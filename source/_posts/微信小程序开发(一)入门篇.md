---
title: '微信小程序开发(一):入门篇'
date: 2018-04-15 16:16:14
categories:
- 微信小程序
tags: 
- 前端
- 微信小程序
---

微信小程序开发入门篇：主要介绍了熟悉开发工具【看文档】、页面架构、框架&组件，数据绑定、事件等等；
<!-- more -->

## 微信开发小程序

**入门资料**

- 1.[微信小程序官方文档](https://developers.weixin.qq.com/miniprogram/dev/)
- 2.[如何入门微信小程序开发，有哪些学习资料？](https://www.zhihu.com/question/50907897)
- 3.[从零开始：微信小程序新手入门宝典](http://www.wxapp-union.com/forum.php?mod=viewthread&tid=1989)

**基础开发工具**

> 项目主要由pages 文件夹组成，这几个文件夹主要描述整个小程序的界面信息。基本可以分为：.js，.wxml，.wxss，.json；

```
index.js：描述index页面的逻辑信息（类比：js代码）
index.wxml：描述index页面的布局信息（类比：HTML页面布局）
index.wxss：描述index页面的布局的样式信息（类比：CSS信息）
.json 后缀的 JSON 配置文件
```
> 由app.js，app.json，app.wxss三个文件组成项目总体配置信;

- app.json：描述整个工程的页面信息（由"pages"描述），"window"主要描述该项目整体背景，导航栏等样式，如果某个文件夹中某个.json文件中有相同的描述，则会覆盖"window"中描述的信息。包括了小程序的所有页面路径、界面表现、网络超时时间、底部 tab等；页面的.json只能设置 window相关的配置项，以决定本页面的窗口表现，所以无需写 window 这个键;
- app.wxss：主要描述该项目整体的样式
- app.js：主要描述该项目入口逻辑，主要描述一些用户登录后的信息

> .wxml模板： 网页编程采用的是 HTML + CSS + JS 这样的组合，其中 HTML 是用来描述当前这个页面的结构，CSS 用来描述页面的样子，JS 通常是用来处理这个页面和用户的交互。小程序的框架也是使用MVVM(例如 React, Vue)的思路：提倡把渲染和逻辑分离。简单来说就是不要再让 JS 直接操控 DOM，JS只需要管理状态即可，然后再通过一种模板语法来描述状态和界面结构的关系即可。

[WXML文档学习](https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/)

> WXSS 样式:WXSS 具有 CSS 大部分的特性，小程序在 WXSS 也做了一些扩充和修改。

- 新增了尺寸单位 rpx。
- 提供了全局的样式和局部样式。app.wxss 作为全局样式,局部页面样式 page.wxss 
- WXSS 仅支持部分 CSS 选择器



**小程序的启动过程**

- 1.打开小程序之前，会download所有代码包到本地；
- 2.通过 app.json 的 pages 字段知道所有页面路径；
- 3.微信把首页的代码装载进来，通过小程序底层的一些机制，就可以渲染出这个首页。
- 4.小程序启动之后，在 app.js 定义的 App 实例的 onLaunch 回调会被执行:

**APP生命周期**

> app.js: onLaunch->onshow  然后执行index.js页面：onLoad-->onShow---onReady


## 微信小程序 框架

[微信小程序 框架](https://developers.weixin.qq.com/miniprogram/dev/framework/structure.html)

> 框架提供了自己的视图层描述语言 WXML 和 WXSS，以及基于 JavaScript 的逻辑层框架，并在视图层与逻辑层间提供了数据传输和事件系统，可以让开发者可以方便的聚焦于数据与逻辑上。

响应的数据绑定

> 框架的核心是一个响应的数据绑定系统。整个系统分为两块视图层（View）和逻辑层（App Service）


```
WXML 中的动态数据均来自对应 Page 的 data。
数据绑定使用 Mustache 语法（双大括号）将变量包起来；
作用于：
1.内容
<view> {{ message }} </view>

2.组件属性(需要在双引号之内)
<view id="item-{{id}}"> </view>

3.控制属性(需要在双引号之内)
<view wx:if="{{condition}}"> </view>

4.关键字(需要在双引号之内)
<checkbox checked="{{false}}"> </checkbox>

5.运算：可以在 {{}} 内进行简单的运算
6.逻辑判断
<view wx:if="{{length > 5}}"> </view>

7.字符串运算
<view>{{"hello" + name}}</view>

8.数据路径运算
<view>{{object.key}} {{array[0]}}</view>
```



页面管理

> 框架 管理了整个小程序的页面路由，可以做到页面间的无缝切换，并给以页面完整的生命周期。

当然还有基础组件及丰富的系统API；

一个小程序主体部分由三个文件组成：App.js小程序的逻辑，app.json小程序公共配置，app.wxss小程序公共样式表；

一个小程序的页面由四个文件组成：js页面逻辑，wxml页面结构，wxss页面样式表，json页面配置[详细配置查看文档](https://developers.weixin.qq.com/miniprogram/dev/framework/config.html)

**逻辑层(App Service)**

[逻辑层介绍](https://developers.weixin.qq.com/miniprogram/dev/framework/app-service)



## 微信小程序 组件

[微信小程序 组件](https://developers.weixin.qq.com/miniprogram/dev/component/)

- 视图容器:view、scroll-view、swipe、movable-area、cover-view
- 基础内容:text、icon、progress、rich-text(富文本)
- 表单组件:button、checkbox-group、form、input输入框、label、picker滚动选择器、picker-view（嵌入页面的滚动选择器）、单选radio、switch、slide
- 导航navigator页面链接
- 媒体组件：audio、image、video、camera、live-player、live-pusher
- 地图组件：map


**入门系列**

- [微信小程序入门《一》: 简 介、文本、事件、样式](http://www.wxapp-union.com/article-1002-1.html)
- [微信小程序入门《二》实例：条件渲染、数据遍历、网络请求、获取本地图片 .](http://www.wxapp-union.com/article-1003-1.html)

[小程序wxss学习系列](http://www.wxapp-union.com/article-1046-1.html)

- 定位布局
- 尺寸Dimension，margin and padding
- 背景（Background）与颜色（Color），边框(Border)
- 字体，组件及API的思维导图


> 事件是视图层到逻辑层的通讯方式。将用户的行为反馈到逻辑层进行处理。一般是绑定在组件上，触发时执行处理函数，并可以携带参数。

- 冒泡事件：
```
当一个组件上的事件被触发后，该事件会向父节点传递。
```
- 非冒泡事件：
```
当一个组件上的事件被触发后，该事件不会向父节点传递。
```
以下为冒泡事件，其他组件事件无特殊申明都是非冒泡事件
|类型|	触发事件  |
|:--|:--|
|touchstart  |  	手指触摸动作开始
|touchmove |	手指触摸后移动
|touchcancel|	手指触摸动作被打断，如来电提醒，弹窗
|touchend   | 	手指触摸动作结束
|tap          |     	手指触摸后马上离开
|longtap   |     	手指触摸后，超过350ms再离开

**事件以bind或者catch开头**

- bind事件绑定不会阻止冒泡事件向上冒泡，如bindtap。
- catch事件绑定可以阻止冒泡事件向上冒泡，如catchtap。

